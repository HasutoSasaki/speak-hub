# ソケットプログラミング

## 目次

- ブラックボックスからコードまで

---

### TCPバイトストリームとプロトコル

TCPはデータの境界を区別せず、データを一連のバイト(8ビット単位)でデータを送受信します。

データのシリアル化
ネットワークで送受信したいメッセージは、文字列、構造体、リストといった高レベルオブジェクトの可能性があります。
だが、コンピュータネットワークは、0,1しか認識しないので、変換する必要がありますと。
オブジェクト→バイトへの変換＝ シリアライゼーション
バイト→オブジェクトへの変換＝ デシリアライゼーション

---

ソケットとは
接続などを参照するためのハンドル
ソケットハンドルには、荷種類存在し

- リスニングソケット
- 接続ソケット

```c
// リスニングソケット
fd = socket()
bind(fd, address)
listen(fd)
while True:
    conn_fd = accept(fd)
    do_something_with(conn_fd)
    close(conn_fd)

// 接続ソケット
fd = socket()
connect(fd, address)
do_something_with(fd)
close(fd)
```

---

ソケットプリミティブのリスト

- リッスン中のTCPソケット
  - `bind()&listen()`
  - `accept()`
  - `close()`
- TCPソケットの使用
  - `read()`
  - `write()`
  - `close()`
- TCP接続を作成します。`connect()`
